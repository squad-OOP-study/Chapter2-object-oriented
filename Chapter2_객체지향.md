# Chapter 02 객체 지향
## 소프트웨어의 가치
소프트웨어의 가치는 사용자가 요구하는 기능을 올바르게 제공하는 데 있다.  
요구 사항은 언제나 변한다. 시간이 흐름에 따라 이전에 필요 없다고 생각했던 기능이 필요해질 수도 있고, 기존에 구현된 기능의 일부를 변경해야 할 수도 있다.  
요구 사항이 바뀔 때, 그 변화를 더 수월하게 적용할 수 있는 장점을 얻기 위해 사용된 것이 바로 객체 지향 기법이다.  
객체 지향 기법을 적용하면 소프트웨어를 더 쉽게 변경할 수 있는 유연함을 얻을 수 있다.

## 절차 지향과 객체 지향  

![image](https://user-images.githubusercontent.com/79504043/151649730-0032dc4f-37d2-4892-9e87-8998ec45675e.png)

### 절차 지향
소프트웨어를 구현한다는 것은 결국 소프트웨어를 구성하는 데이터와 데이터를 조작하는 코드를 작성하는 것이다. 데이터를 조작하는 코드를 별도로 분리해
함수나 프로시저와 같은 형태로 만들고, 각 프로시저들이 데이터를 조작하는 방식으로 코드를 작성할 수 있는데 이렇게 프로시저(Procedure)로 프로그램을 구성하는 기법을 
절차 지향 프로그래밍이라고 부른다.  
사실 절차 지향이라는 말은 올바른 말이 아니고 절차적 프로그래밍이라고 하는데, 기본적으로 절차라는 틀을 깨지 않는 선에서 객체지향적 프로그래밍을 하느냐 마느냐의 차이로
보는 것이 옳다.

<img src="https://user-images.githubusercontent.com/79504043/151649834-1d3cc5bc-8d78-4196-ab76-3ee30744a70f.png" width="60%" height="100%">
<figcaption>절차 지향은 데이터를 중심으로 한 프로시저로 구성된다.</figcaption>

<br>
<br/>

### 절차 지향의 문제점

데이터와 그 데이터를 사용하는 프로시저(절차) 를 작성하는 것은 자연스러운 과정이기 때문에 최초에 절차 지향적으로 코드를 구현하는 것은 쉽다.  
하지만, 프로그램 규모가 커져서 데이터 종류가 증가하고 이를 사용하는 프로시저가 증가하게 된다면 다음과 같은 문제가 발생할 수 있다.
- 데이터 타입이나 의미를 변경해야 할 때, 함께 수정해야 하는 프로시저가 증가한다.
- 같은 데이터를 프로시저들이 서로 다른 의미로 사용하는 경우가 발생할 수 있다.

예를 들어 우리가 흔히 타는 지하철의 출발, 도착을 상태를 저장하기 위해 boolean 타입의 Status 이라는 데이터를 사용한다고 하자.  
이 데이터를 사용하는 프로시저는 모두 Status 를 boolean 타입으로 처리할 것이다. 하지만 더 구체적인 표시를 위해 역 접근이라는 상태를 추가해야 할 때,
이 요구사항을 반영하기 위해서는 boolean 타입을 수정해야 한다. 그렇게 되면 이 데이터를 사용하는 모든 프로시저도 함께 수정해야 한다.

이러한 경우는 절차 지향적으로 프로그램을 구성할 때 매우 흔하게 발생하는 문제들이다. 새로운 요구사항이 생겨 프로그램의 한 곳을 수정하면 다른 곳에서 오류가 터지고
또 그곳을 수정하면 다른 곳에서 오류가 발생하는 악순환이 발생할 수 있다. 이는 코드의 수정을 어렵게 만들며, 새로운 기능을 추가하는데 많은 비용이 들게 한다.

### 객체 지향
절차 지향과 달리 객체 지향은 데이터 및 데이터와 관련된 프로시저를 객체 즉 오브젝트(Object) 라고 불리는 단위로 묶는다. 객체는 프로시저를 실행하는데 필요한 만큼의
데이터를 가지며, 객체들이 모여 프로그램을 구성한다.

<img src="https://user-images.githubusercontent.com/79504043/151650129-1f49019c-8637-42c0-8fa3-c3f342da6333.png" width="60%" height="100%">
<figcaption>객체 지향 기법을 적용한 프로그램은 데이터와 프로시저를 함께 갖는 객체들의 네트워크로 구성된다.</figcaption>

위 그림에서 보듯이 객체 지향 기법으로 작성된 프로그램은 객체들로 구성이 된다. 각 객체는 자신만의 데이터와 프로시저를 갖는다. 객체는 자신만의 기능을 제공하며, 각 객체들은 서로 연결되어 다른 객체가 제공하는 긴으을 사용할
 수 있게 된다.객체는 다른 객체에 기능을 제공하기 위해 프로시저를 사용하는데, 이때 프로시저는 자신이 속한 객체의 데이터에만 접근할 수 있으며, 다른 객체에 속한 데이터에는 접근할 수 없다.  

더 간단한 그림으로 예를 들어보자.

<img src="https://blog.kakaocdn.net/dn/catioE/btqKXiiBObK/unAbRuMcBYUuhHU3cjQOS1/img.png" width="40%" height="50%">

고객이 할 수 있는 데이터와 프로시저들을 하나로 묶어 고객이라는 객체 만들고, 자판기에서 할 수 있는 데이터들과 프로시저들을 묶어 자판기라는 하나의 객체로 묶었다.  
이렇게 각 객체의 메소드나 필드를 호출하면서 서로간의 상호작용을 통해 프로그램이 작동하게 된다.

객체 지향적으로 만든 코드에서는 객체의 데이터를 변경하더라도 해당 객체로만 변화가 집중되고 다른 객체에는 영향을 주지 않기 때문에, 요구 사항의 변화가 발생했을 때
절차 지향 방식보다 프로그램을 더 쉽게 변경할 수 있는 장점이 있다.

### 객체
객체(Object)란 물리적으로 존재하거나 추상적으로 생각할 수 있는 것 중에서 자신과 다른 것을 식별가능한 것을 말한다. 예를 들어 물리적으로 존재하는 학생, 회원 등과 추상적인 생산, 주문, 배송 등이 모두 객체가 될 수 있다.
이 객체가 내부적으로 어떤 데이터 타입 값으로 보관하는지는 중요하지 않다. 중요한 것은 이 객체들은 기능을 제공한다는 것이다.

### 인터페이스와 클래스
객체는 객체가 제공하는 기능으로 정의된다고 했는데, 객체가 제공하는 기능을 오퍼레이션(Operation) 이라고 부른다. 객체가 제공하는 모든 오퍼레이션
집합을 객체의 '인터페이스(Interface)'라고 부르며 여기서 말하는 인터페이스는 객체 지향에서 오퍼레이션의 집합을 표한할 때 사용되는 용어이다.  
즉 인터페이스는 객체를 사용하기 위한 일종의 명세나 규칙이라고 보면 된다.  

인터페이스는 객체가 제공하는 기능에 대한 명세서일 뿐, 실제 객체의 구현을 정의하는 것은 클래스(Class) 이다.

### 메세지
메시징의 의미는 객체가 또 다른 객체의 인터페이스를 통해 어떠한 행위를 하라고 명령하는 것으로 필요하다면 데이터를 담아서 보낼 수도 있다.
자신이 못하는 것을 누군가 대신 해주길 원할 때, 그것을 해줄 수 있는 객체에게 메시징을 하는 것이다. 덧붙이자면 이것을 행위의 책임을 위임했다 해서 위임이라 하기도 한다.  
자바 같은 언어에서는 메서드를 호출하는 것이 메시지를 보내는 과정에 해당된다.

```Kotlin
val input: FileInputStream = FileInputStream()
val data = ByteArray(512)
val readByte = input.read(data)
```

이 코드에서 input 변수는 FileInputStream 타입의 객체를 참조하는데, input.read(data) 코드는 input 이 참조하는 객체에 read()
오퍼레이션을 실행해 달라는 메세지를 전송한다고 생각하면 된다.